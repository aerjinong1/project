<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<!--edge浏览器H5兼容设置-->
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<!--360浏览器H5兼容设置-->
		<meta name="renderer" content="webkit" />
		<title>电脑商城</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!--导入核心文件-->
		<script src="../bootstrap3/js/holder.js"></script>
		<link href="../bootstrap3/css/bootstrap.css" rel="stylesheet" type="text/css">
		<script src="../bootstrap3/jquery-1.9.1.min.js"></script>
		<script src="../bootstrap3/js/bootstrap.js"></script>
		<!-- 字体图标 -->
		<link rel="stylesheet" href="../bootstrap3/font-awesome-4.7.0/css/font-awesome.css" />
		<link rel="stylesheet" type="text/css" href="../css/top.css" />
		<link rel="stylesheet" type="text/css" href="../css/index.css" />
		<link rel="stylesheet" type="text/css" href="../css/layout.css" />
		<link rel="stylesheet" type="text/css" href="../css/reg.css" />
		<link rel="stylesheet" type="text/css" href="../css/footer.css" />
		<script src="../js/someFunction.js" type="text/javascript" charset="UTF-8"></script>

		<!--	js代码	-->
		<script type="text/javascript">
			//监听注册按钮是否被点击
			$("#btn-reg").click(function () {
				//发送ajax的异步请求完成用户的的注册功能
				console.log($("#form-reg").serialize())
				$.ajax({
					url:"/user/reg",
					type:"POST",
					data:$("#form-reg").serialize(),
					dataType:"JSON",
					success:function (res){
						if (res.state===200){
							alert("注册成功")
						}else{
							alert("注册失败")
						}
					},
					error:function (res){
						alert(res.status+"   未知错误")
					}


				})
			});


		</script>

	</head>
	<body>
		<!--头部-->
		<header class="header">
			<img src="../images/index/stumalllogo.png" alt="" />
			<span class="pull-right"><small>欢迎访问</small><b>电脑商城</b></span>
		</header>
		<!--主体-->
		<div class="container mycontent text-left" >
			<!--透明层 -->
			<div class="regDiv" style="height: 55%;">
				<div id="error-msg"  style="color: red;font-weight:bold;padding-top: 10px"  class="pull-right">
				</div>
				<div style="padding-top: 10px;font-size: larger;padding-left: 10px" >新用户注册
				</div>
				<!--表单开始-->
				<form style="padding-top: 10px" id="form-reg" class="form-horizontal" role="form" >
					<!--用户名-->
					<div class="form-group">
						<label class="col-md-3 control-label">名字：</label>
						<div class="col-md-8">
							<input id="username" name="username" type="text" class="form-control" placeholder="请输入用户名">
						</div>
					</div>
					<!--密码-->
					<div class="form-group" >
						<label class="col-md-3 control-label"> 密码：</label>
						<div class="col-md-8">
							<input id="password" name="password" type="password"  class="form-control" placeholder="请输入密码"/>
						</div>
						<img id="img" onclick="showPasswordOrNot('password','img')" src="../images/img/open.jpeg" style="width: 20px;padding-top: 5px;">
					</div>
					<!--确认密码-->
					<div class="form-group">
						<label class="col-md-3 control-label"> 确认密码：</label>
						<div class="col-md-8">
							<input id="rePwd" name="repwd" type="password"  class="form-control" placeholder="请再次输入密码">
						</div>
						<img id="rePwdImg" onclick="showPasswordOrNot('rePwd','rePwdImg')" src="../images/img/open.jpeg" style="width: 20px;padding-top: 5px;">
					</div>
					<div class="form-group">
						<label class="col-md-3 control-label"> 验证码：</label>
						<div class="col-md-4">
							<input id="code" name="code" type="text" style="width: 120px;height: 45px" class="form-control" placeholder="请输入验证码"/>
						</div>
						<img id="kaptcha" src="/kaptcha/kaptcha-image" onclick="reFlashImg('kaptcha')" style="width: 140px;height: 45px;"/>
					</div>

					<!--提交按钮-->
					<div class="form-group">
						<label class="col-md-3 control-label"></label>
						<div class="col-md-8">
							<input id="btn-reg" class="btn btn-primary" type="button" value="立即注册" />
							<input id="btn-toIndex" class="btn btn-primary" type="button" value="返回主页" />
							<span class="pull-right"><small>已经有账号？</small><a href="login.html">登录</a></span>
						</div>
					</div>
				</form>
			</div>

		</div>
		<!--页脚开始-->
		<div class="footer"></div>
		<!--页脚结束-->
	</body>

</html>